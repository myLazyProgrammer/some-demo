<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app">

    </div>
</body>
<script>
var Vue = function (options){
    const vm = this
    vm.$options = options
    initData(vm)
}

function initData(vm){
    let data = vm.$options.data
    data = vm._data = data.call(vm)
    const keys = Object.keys(data)
    let i = keys.length

    while(i --) {
        proxy(vm, '__data', keys[i])
    }
}

function noop(a, b, c, d){}

const sharedPropertyDefinition = {
    enumerable: true,
    configurable: true,
    get: noop,
    set: noop
}
function proxy(target, sourceKey, key){
    sharedPropertyDefinition.get = function proxyGetter(){
        return this[sourceKey][key]
    }
    sharedPropertyDefinition.set = function proxySetter(val){
        this[sourceKey][key] = val
    }
    Object.defineProperty(target, key, sharedPropertyDefinition)
}

const vm = new Vue({
    data() {
        return {
            count: 1
        }
    }
})

console.log(vm)

</script>
</html>